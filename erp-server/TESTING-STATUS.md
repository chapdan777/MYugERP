# Отчет о покрытии E2E-тестами

На основе анализа проектной документации и существующих тестов в директории `test/` был проведен анализ текущего покрытия модулей сервера E2E-тестами.

## 1. Покрытые модули

На данный момент E2E-тестами частично покрыты следующие модули:

- **`user`**:
    - **`users.e2e-spec.ts`**: Тестируются базовые CRUD-операции для пользователей (`/users`).
    - **`auth.e2e-spec.ts`**: Тестируются процессы аутентификации (логин, выход, обновление токена, получение данных пользователя).
- **`product`**:
    - **`products.e2e-spec.ts`**: Тестируются базовые CRUD-операции для номенклатуры (`/products`).

## 2. Непокрытые модули

Для следующих критически важных модулей **полностью отсутствуют** E2E-тесты:

- **`order`**:
    - **Функционал:** Создание, изменение, блокировка заказов, управление позициями и шапками заказа.
    - **Риск:** Отсутствие тестов для основного бизнес-процесса системы.
- **`property`**:
    - **Функционал:** Управление свойствами номенклатуры и их зависимостями.
    - **Риск:** Ошибки в логике зависимостей могут приводить к некорректной конфигурации заказов.
- **`pricing`**:
    - **Функционал:** Создание и применение модификаторов цен.
    - **Риск:** Неправильный расчет стоимости заказов.
- **`configuration`**:
    - **Функционал:** Управление шаблонами заказов и шапок.
    - **Риск:** Ошибки в создании новых заказов на основе шаблонов.
- **`production`**:
    - **Функционал:** Создание заказ-нарядов, работа с канбан-досками, технологическими маршрутами и контроль приоритетов.
    - **Риск:** Вся производственная логика не протестирована.
- **`workforce`**:
    - **Функционал:** Назначение работников на заказ-наряды и расчет заработной платы.
    - **Риск:** Ошибки в расчете зарплаты и назначении персонала.
- **`accounting`**:
    - **Функционал:** Регистрация платежей, управление балансом клиента и распределение оплат по заказам.
    - **Риск:** Финансовые ошибки, некорректный учет оплат.
- **`audit`**:
    - **Функционал:** Проверка корректности логирования действий в системе.
    - **Риск:** Невозможность отследить критичные изменения в системе.

## 3. Рекомендации

Приоритетом является написание E2E-тестов для модуля **`order`**, так как он является центральным в системе. Далее рекомендуется последовательно покрыть тестами модули `production`, `pricing` и `accounting`, чтобы обеспечить стабильность ключевых бизнес-процессов.
